# 46. Permutations (Medium)

<figure><img src="../../../.gitbook/assets/image (5).png" alt=""><figcaption></figcaption></figure>

{% content-ref url="../../backtracking-jie-dian-vs-shu-zhi.md" %}
[backtracking-jie-dian-vs-shu-zhi.md](../../backtracking-jie-dian-vs-shu-zhi.md)
{% endcontent-ref %}

站在回溯树的一个节点上，你只需要思考 3 个问题：

1、路径：也就是已经做出的选择。

2、选择列表：也就是你当前可以做的选择。

3、结束条件：也就是到达决策树底层，无法再做选择的条件。

<figure><img src="../../../.gitbook/assets/image (6).png" alt="" width="375"><figcaption></figcaption></figure>

**现在可以解答开头的几个名词：`[2]` 就是「路径」，记录你已经做过的选择；`[1,3]` 就是「选择列表」，表示你当前可以做出的选择；「结束条件」就是遍历到树的底层叶子节点，这里也就是选择列表为空的时候**。

````java
```java
class Solution {
    List<List<Integer>> res = new LinkedList<>();

    public List<List<Integer>> permute(int[] nums) {
        LinkedList<Integer> track = new LinkedList<>();
        boolean[] used = new boolean[nums.length];
        backtrack(nums, track, used);
        return res;
    }

    private void backtrack(int[] nums, LinkedList<Integer> track, boolean[] used) {
        // base case
        if (track.size() == nums.length) {
            res.add(new LinkedList(track));
            return;
        }

        for (int i = 0; i < nums.length; i++) {
            // exclude the already visited nodes
            if (used[i]) {
                continue;
            }
            // make the choice
            track.add(nums[i]);
            used[i] = true;
            backtrack(nums, track, used);
            used[i] = false;
            track.removeLast();
        }
    }
}
```
````

```java
import java.util.Arrays;

public class Permutations {
    public static void main(String[] args) {
        int[] arr = {1, 2, 3};
        generatePermutations(arr, 0);
    }

    public static void generatePermutations(int[] arr, int index) {
        if (index == arr.length - 1) {
            return;
        }

        for (int i = index; i < arr.length; i++) {
            swap(arr, index, i); 
            generatePermutations(arr, index + 1);
            swap(arr, index, i); // Backtrack
        }
    }

    public static void swap(int[] arr, int i, int j) {
        int temp = arr[i];
        arr[i] = arr[j];
        arr[j] = temp;
    }
}

```
